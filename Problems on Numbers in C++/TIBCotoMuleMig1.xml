<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<core:mule xmlns="http://www.mulesoft.org/schema/mule/core" version="EE-3.8.3" XMLSchema-instance:schemaLocation="http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd  http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-current.xsd http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd  http://www.mulesoft.org/schema/mule/file http://www.mulesoft.org/schema/mule/file/current/mule-file.xsd  http://www.mulesoft.org/schema/mule/db http://www.mulesoft.org/schema/mule/db/current/mule-db.xsd http://www.mulesoft.org/schema/mule/jms http://www.mulesoft.org/schema/mule/jms/current/mule-jms.xsd  http://www.mulesoft.org/schema/mule/xml http://www.mulesoft.org/schema/mule/xml/current/mule-xml.xsd  http://www.mulesoft.org/schema/mule/ws http://www.mulesoft.org/schema/mule/ws/current/mule-ws.xsd" xmlns:cluster="http://www.mulesoft.org/schema/mule/ee/cluster" xmlns:threat-protection-gw="http://www.mulesoft.org/schema/mule/threat-protection-gw" xmlns:tracking="http://www.mulesoft.org/schema/mule/ee/tracking" xmlns:ajax="http://www.mulesoft.org/schema/mule/ajax" xmlns:ns3="http://www.mulesoft.org/schema/mule/xml" xmlns:ns6="http://www.mulesoft.org/schema/mule/jdbc" xmlns:cxf="http://www.mulesoft.org/schema/mule/cxf" xmlns:dummy="http://www.mulesoft.org/schema/mule/dummy" xmlns:jms="http://www.mulesoft.org/schema/mule/jms" xmlns:api-platform-gw="http://www.mulesoft.org/schema/mule/api-platform-gw" xmlns:context="http://www.springframework.org/schema/context" xmlns:jaas="http://www.mulesoft.org/schema/mule/jaas" xmlns:ns15="http://www.mulesoft.org/schema/mule/ee/core" xmlns:https="http://www.mulesoft.org/schema/mule/https" xmlns:apikit="http://www.mulesoft.org/schema/mule/apikit" xmlns:validation="http://www.mulesoft.org/schema/mule/validation" xmlns:sxc="http://www.mulesoft.org/schema/mule/sxc" xmlns:ognl="http://www.mulesoft.org/schema/mule/ognl" xmlns:test="http://www.mulesoft.org/schema/mule/test" xmlns:batch="http://www.mulesoft.org/schema/mule/batch" xmlns:jetty-ssl="http://www.mulesoft.org/schema/mule/jetty-ssl" xmlns:core="http://www.mulesoft.org/schema/mule/core" xmlns:vm="http://www.mulesoft.org/schema/mule/vm" xmlns:domain="http://www.mulesoft.org/schema/mule/domain" xmlns:http="http://www.mulesoft.org/schema/mule/http" xmlns:mock="http://www.mulesoft.org/schema/mule/mock" xmlns:spring-security="http://www.mulesoft.org/schema/mule/spring-security" xmlns:sftp="http://www.mulesoft.org/schema/mule/sftp"   xmlns:pattern="http://www.mulesoft.org/schema/mule/pattern" xmlns:jdbc="http://www.mulesoft.org/schema/mule/ee/jdbc" xmlns:scripting="http://www.mulesoft.org/schema/mule/scripting" xmlns:file="http://www.mulesoft.org/schema/mule/file" xmlns:jersey="http://www.mulesoft.org/schema/mule/jersey" xmlns:beans="http://www.springframework.org/schema/beans" xmlns:saml="http://www.mulesoft.org/schema/mule/ee/saml" xmlns:pgp="http://www.mulesoft.org/schema/mule/pgp" xmlns:throttling-gw="http://www.mulesoft.org/schema/mule/throttling-gw" xmlns:json="http://www.mulesoft.org/schema/mule/json" xmlns:client="http://www.mulesoft.org/schema/mule/client" xmlns:wmq="http://www.mulesoft.org/schema/mule/ee/wmq" xmlns:smtps="http://www.mulesoft.org/schema/mule/smtps" xmlns:jetty="http://www.mulesoft.org/schema/mule/jetty" xmlns:ws="http://www.mulesoft.org/schema/mule/ws" xmlns:XMLSchema-instance="http://www.w3.org/2001/XMLSchema-instance" xmlns:policy="http://www.mulesoft.org/schema/mule/policy" xmlns:tcp="http://www.mulesoft.org/schema/mule/tcp" xmlns:ftp="http://www.mulesoft.org/schema/mule/ftp" xmlns:smtp="http://www.mulesoft.org/schema/mule/smtp" xmlns:quartz="http://www.mulesoft.org/schema/mule/quartz" xmlns:pop3s="http://www.mulesoft.org/schema/mule/pop3s" xmlns:ip-filter-gw="http://www.mulesoft.org/schema/mule/ip-filter-gw" xmlns:management="http://www.mulesoft.org/schema/mule/management" xmlns:tls="http://www.mulesoft.org/schema/mule/tls" xmlns:imaps="http://www.mulesoft.org/schema/mule/imaps" xmlns:oauth2-provider="http://www.mulesoft.org/schema/mule/oauth2-provider" xmlns:atom="http://www.mulesoft.org/schema/mule/atom" xmlns:db="http://www.mulesoft.org/schema/mule/db">
    <core:sub-flow name="ECAReasonInvocation.process">
        <core:logger message="Received Message ......." level="INFO" doc:name="Log" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"/>
        <http:request path="/" method="GET" config-ref="SendHTTPRequest1563971388594" doc:name="SendHTTPRequest" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"/>
        <core:flow-ref name="UpdateOrderTrack.process" doc:name="SubProc2" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"/>
    </core:sub-flow>
    <http:request-config name="SendHTTPRequest1563971388594" host="localhost" port="9999"/>
    <core:sub-flow name="ECSReasons.process">
        <dummy:dummyoutbound doc:name="MapData" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"/>
    </core:sub-flow>
    <core:flow name="ECSService.process">
        <jms:inbound-endpoint queue="IT.ECS.Request.v1" connector-ref="JMSConnection" doc:name="ReceiveECSMessage" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"/>
        <ns3:schema-validation-filter schemaLocations=".xsd " schemaLanguage="http://www.w3.org/2001/XMLSchema" returnResult="true" doc:name="ParseXML" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"/>
        <jms:outbound-endpoint queue="IT.SMP.Audit.Queue.v1" connector-ref="JMSConnection" doc:name="LogRequestInECSDB" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"/>
        <jms:outbound-endpoint queue="IT.SMP.ABI.Topic.Request.v1" connector-ref="JMSConnection" exchange-pattern="request-response" doc:name="RequestABIService" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"/>
        <core:flow-ref name="ECAReasonInvocation.process" doc:name="CallProcess" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"/>
    </core:flow>
    <core:sub-flow name="UpdateOrderTrack.process">
        <core:logger message="Received Message ......." level="INFO" doc:name="NewLog" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"/>
        <ws:consumer operation="OrderTshirt" config-ref="OrderSOAPRequestReply1563971388930" doc:name="OrderSOAPRequestReply" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"/>
        <ws:consumer operation="TrackOrder" config-ref="TrackSOAPRequestReply1563971388940" doc:name="TrackSOAPRequestReply" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"/>
    </core:sub-flow>
    <ws:consumer-config name="OrderSOAPRequestReply1563971388930" serviceAddress="%%Order/EndPointURL%%" service="TshirtService" port="TshirtServicePort"/>
    <ws:consumer-config name="TrackSOAPRequestReply1563971388940" serviceAddress="http://tshirt-service.cloudhub.io" service="TshirtService" port="TshirtServicePort"/>
    <core:sub-flow name="">
        <dummy:dummyoutbound doc:name="MapData" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"/>
    </core:sub-flow>
    <http:listener-config name="HTTPConnection" host="0.0.0.0" port="9009"/>
    <jms:connector username="admin" password="" name="JMSConnection"/>
</core:mule>
